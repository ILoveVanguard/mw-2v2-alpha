// gameplay settings in here only.
// no controller or keyboard bindings.
// nothing platform specific.

// do not change dev_dvars (i.e. dvars used by code) in this file, or they may not work in ship.
// set them in autoexec_*.cfg instead
// (if you are changing dvars used only by script, carry on!)

// streaming
set com_maxstreamedbodies			0
set com_maxstreamedheads			0
set com_maxstreamedweapons			0
set com_maxstreamedviewarms			3
set com_maxstreamedviewweapons		0
set com_hybridweaponstreamingenabled	1

reset waypointOffscreenScaleSmallest 
reset ragdoll_explode_force
reset ragdoll_explode_upbias
reset jump_height
reset jump_slowdownEnable
// Removed falling damage dvar resets blocking mp falling damage testing.-JoeC 07/29/15
//reset bg_fallDamageMinHeight
//reset bg_fallDamageMaxHeight
reset com_gameMsgWindow1LineCount

set partyChatDisallowed 				0

// UI defaults
set default_gametype_mp				war
set ui_mapname						mp_hackney_yard
set ui_maxclients					20

set cg_hudObjectiveTextScale		0.3
set cg_headIconMinScreenRadius		0.025
set cg_hudMapFriendlyHeight			15
set cg_hudMapFriendlyWidth			15
set cg_hudMapPlayerHeight			20
set cg_hudMapPlayerWidth			20

set scr_requiredmapaspectratio		1
set scr_riotshieldxpbullets			15
set max_xp_per_match				0
reset ui_oldmapname

// shared CP/MP
set scr_default_maxagents			10

set scr_thirdperson					0

set scr_game_forceuav				0
set scr_game_graceperiod			15

set scr_runlean_playerthread_count	0

// These are const and set in code to these values.
// set aim_lockon_max_pitch_speed_up  		100000.0
// set aim_lockon_max_pitch_speed_down  	200.0
// set aim_boundsOffsetScale 				0.7
// set aim_slowdown_prioritization_crosshair_dist_prop 0.3

// Perks Shared CP/MP - note that these settings largely do NOT need code updates to function in Ship
set scr_disableFieldUpgrades        0
set perk_defuse_equipment_time		3.0

// IW8-EricG: all vehicles sharing the same config right now, not all should be able to toggle so unhooking for now
// vehicle 3rd person camera toggle
//bind BUTTON_RSTICK +togglevehcam
set cg_thirdPersonCarCycleButtons 0

//sun shadow culling
set r_umbraShadowcasters 			1

//func glass
set glass_fall_delay 				0.3 0.9 0.0 30.0
set glass_shard_maxsize 			175.0 1.0
set glass_fall_gravity 				475.0
set glass_linear_vel 				262.0 400.0 0.0 10000.0
set glass_shattered_scale 			28.0


// killstreaks
set cg_turretkillcambackdist		25

set scr_cruise_3rd 					0					
set scr_cruise_intro_anim 			0
set scr_cruise_detach_dist 			1000
set scr_cruise_detach_height		0
set scr_cruise_impact_dist			50
set scr_cruise_impact_boost_dist 	150	
set scr_cruise_impact_type			1

set bg_vehicleTopSpeed 				500 // Temp, remember to remove this once changelist 5071029 is integrated

set perk_melee_resist_finisher_adjust 50;

set scr_pac_sentry_instaspawn		1

// player
set scr_maxperplayerexplosives		2

// br loot
set loot_table_name 					

// outline 
set r_hudoutlineenable					1
set r_hudoutlinewidth					2
set r_hudOutlineOccludedColorFromFill 	1

// outline (thermal)
// These are not DCONSTs so they should be respected even in Ship builds
// These are currently set for the Thermal used in the Apache
// Let Eric Su know when you start changing them
r_hudoutlinethermalbrightcolorbackground 		4 4 4 1				
r_hudoutlinethermalbrightcolorenemy 			1 1 1 1				
r_hudoutlinethermalbrightcolorfriend 			0.4 0.4 0.4 1					
r_hudoutlinethermaldarkcolorbackground   		0.1 0.1 0.1 2			
r_hudoutlinethermaldarkcolorenemy 				0.7 0.7 0.7 1			
r_hudoutlinethermaldarkcolorfriend 				0 0 0 1			
r_hudoutlinethermalnoisescalebg 				0.15					
r_hudoutlinethermalnoisescalefg 				0.15					
r_hudoutlinethermalpowerbackground 				0						
r_hudoutlinethermalpowerforeground 				0.15					

// VR Scope specific
r_hudoutlineVRScopethermalbrightcolorbackground 		1.0 	1.0 	1.0 	1	 	
r_hudoutlineVRScopethermalbrightcolorenemy 				0		0.19 	0.12 	1	 			
r_hudoutlineVRScopethermalbrightcolorfriend 			0.67 	0.76 	0.73 	1	 		
r_hudoutlineVRScopethermaldarkcolorbackground   		0 		0.18 	0.16 	1	 		
r_hudoutlineVRScopethermaldarkcolorenemy 				0.98 	0.33 	0.06 	1	 		
r_hudoutlineVRScopethermaldarkcolorfriend 				0.4 	0.53 	0.51 	1	 	// ALT: 0.21 0.59 0.73 1	
r_hudoutlineVRScopethermalnoisescalebg 					0				 		
r_hudoutlineVRScopethermalnoisescalefg 					0			 		
r_hudoutlineVRScopethermalpowerbackground 				1				 		
r_hudoutlineVRScopethermalpowerforeground 				0.4		
		 	
//set cg_hud_outline_colors_5			0.9		0.8		0.45	0.5  // Sets "orange" default outline to a different color for VR Scope

// Veil/Bloom settings for NVGs - will be moved to code defaults (kmckisic)
r_nvg_veilStrength 0.03
r_nvg_veilFalloffWeight1, 0.25 0.75 1.5
r_nvg_veilFalloffWeight2, 2 2.5 3.0
r_nightVisionIrAmbient 50.0
r_nightVisionIrDirect 50.0
r_nightVisionIr2ndDiffuse 1.0
r_nightVisionIr2ndSpecular 1.0
// Veil/Bloom settings for NVGs - END

// Thermal
// general settings
r_thermalEmissivityRange	0.1875
r_thermalEmissivityShift	0.25
r_thermalEmissivitydefault	0
r_thermalAOStrength	8

// surface type table
r_thermalEmissivity_Default		1.0
r_thermalEmissivity_Concrete	0.72
r_thermalEmissivity_Dirt		0.77
r_thermalEmissivity_Metal		0.7
r_thermalEmissivity_Ashphalt	0.72
r_thermalEmissivity_Wood		0.81
r_thermalEmissivity_Brick		0.75
r_thermalEmissivity_Fabric		0.7
r_thermalEmissivity_Skin		0.98
r_thermalEmissivity_Foliage		0.9
r_thermalEmissivity_Glass		0.92
r_thermalEmissivity_Grass		0.77
r_thermalEmissivity_Ice			0.60
r_thermalEmissivity_Mud			0.71
r_thermalEmissivity_Paper		0.686
r_thermalEmissivity_Plaster		0.68
r_thermalEmissivity_Snow		0.85
r_thermalEmissivity_Water		0.785
r_thermalEmissivity_Ceramic		0.8
r_thermalEmissivity_Plastic		0.84
r_thermalEmissivity_Rubber		0.8
r_thermalEmissivity_Fruit		0.85
r_thermalEmissivity_Armor		0.75
r_thermalEmissivity_Drywall		0.84
r_thermalEmissivity_Terrain		0.90
// Thermal

// IW8 Multiplayer Tuning Changes

// Gunsmith
set force_unlock_all_attachments		1
set force_unlock_all_attachment_lines	1

// UI Killswitches
set ui_killswitch_mp_weapon_icon			0
set ui_killswitch_field_upgrade_hud			0
set ui_killswitch_field_upgrade_mp_frontend 1
set scr_allow_custom_loadouts				1

// Select Fire
 set scr_selectfire_enabled					1
 
 // Buddy Boost
set scr_buddyboost_enabled					1
 
 // Execution
 set execution_enabled 						1

// ------------------------- //
// DVARS MOVING TO CODE!!!
// ------------------------- //

// UI-Code // IWH-113320

// UI Nameplates


// Misc - Not sure if needed but were set in cfg
set cg_hudsplitscreencompasselementscale	1.75	// Not sure if this is still used. Only know it's different than code.
set compasssoundpingfadetime				1.5
set cg_headiconminscreenradius				0.025
set waypointoffscreenpointerdistance		20

// Game-Code // IWH-43706

// Client Predicted Damage
set bg_ballisticsDoClientImpactFx			0

// Mantle
set mantle_view_yawcap						180
set mantle_check_height						58

// Technical
set bg_technicalControlVCone 60
//set bg_technicalControlHCone 30

// Tank
set bg_bradleyViewRelative				0
set bg_bradleyForwardTorqueFactor		0.9
set bg_bradleyReverseTorqueFactor		0.75
set bg_bradleyTimeToFullSteering		1.0
set bg_bradleyExpSteering				0.9

// Cruise Missile
set cameraShakeRemoteMissile_Angles 	0.2 1.2 0.35
set cameraShakeRemoteMissile_Freqs 		38 1.1 84
set missileRemoteFOV 					65
set missileRemoteSpeedTargetRange 		1000 5000
set missileRemoteSteerPitchRange 		-20 90
set missileRemoteSteerPitchRate 		60			// For Gamepad
set missileRemoteSteerYawRate 			50			// For Gamepad

// Wheelson
set bg_wheelsonControls					1
set bg_wheelsonTurretRollAddition   	0
set bg_wheelsonKickBackForce			40000
set bg_wheelsonReverseSteering			1

//temp tuning mech settings globally.  Will be moved to code
exec dev_proto_global.cfg

// Super Sprint - [[ MP Specific settings ]]
set superSprintEnable 				1		// New Sprint
set superSprintSpeedScale 			1.2		// Scale on top of the sprint scale
set player_sprintTime				2		// Super sprint length
set superSprintDoubleClickInputTime 0.3		// Require a very fast double click to help with false positives while moving around. This was at 0.5

// Compass tuning
set compassMainHeadingColor 1 1 1 1

// Friendly Player Collision
set playerCharacterCollisionSoftGlanceStrength 1.25	// Friendly player collision still feels too strong. Bumping down from 1.5 to 1.25 to test in playtests.

// Depth of Field - [[ MP Specific settings ]]
set r_dof_physical_accurateFov			0				// FOV shift feels bad when tracking targets
set r_dof_physical_minFocusDistance		9				// This means you'll always be able to focus given the player capsule unless geo isn't clipped
set r_dof_physical_adsFocusSpeed		12 8 0.1 16		// Kept the far to near very fast to emulate the player's eye actually focusing. Let the near to far be a bit slower as it doesn't affect gameplay.

// ---------------------------------------- //
// DVARS MOVING TO CODE FOR JUST GL BUILD!!!
// ---------------------------------------- //

// Forcing the orbit camera 2 defaults since CP modified the defaults
// set cg_orbitCamRange 300 450 850 1600 // cg_orbitCam Dvars not used anymore. Use camera assets instead.
// set cg_orbitCamInitialAzimuth 0 0 0 0 // cg_orbitCam Dvars not used anymore. Use camera assets instead.

// ---------------------------------------- //

// Uncomment for in house weapon playtest
// set scr_test_loadouts 1

// Uncomment for User Testing
//set scr_allow_custom_loadouts			0
//set scr_disablePerks					1
//set scr_selectfire_enabled			0
//set scr_buddyboost_enabled			0

set lui_battleRoyale_lobby_enabled  0
